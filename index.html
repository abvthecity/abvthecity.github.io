<!DOCTYPE html>
<html lang="en-US">
  <meta charset="utf-8" />
  <head>
    <title>Andrew Jiang</title>
  </head>
  <meta
    name="description"
    content="This is the website of Andrew Jiang, an engineer based in Brooklyn."
  />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />
  <meta
    name="theme-color"
    content="white"
    media=" (prefers-color-scheme: light)"
  />
  <meta
    name="theme-color"
    content="black"
    media=" (prefers-color-scheme: dark)"
  />
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Geologica:wght@300&display=swap"
    rel="stylesheet"
  />
  <style>
    html,
    body {
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;

      font-family: "Geologica", sans-serif;
    }

    a,
    a:visited {
      color: green;
    }

    #animated-type {
      font-size: 1.5em;
      line-height: 1.5em;
      padding: 1em;
    }

    #wave-emoji {
      transition: transform 150ms ease-in-out;
      cursor: none;
      backface-visibility: hidden;
      padding: 0.5em;
      margin: -0.5em;
      z-index: 2;
      position: relative;
    }

    #wave-emoji + * {
      position: relative;
      z-index: 1;
    }

    .wave {
      display: inline-block;
      transform: scale(1.2);
      animation: wave 1s ease-in 150ms;
      animation-iteration-count: infinite;
    }

    @keyframes wave {
      0% {
        transform: rotate(0deg) scale(1.2);
      }
      50% {
        transform: rotate(15deg) scale(1.2);
      }
      100% {
        transform: rotate(0deg) scale(1.2);
      }
    }

    @media (prefers-color-scheme: dark) {
      html,
      body {
        background-color: black;
        color: white;
      }

      a,
      a:visited {
        color: lightgreen;
      }
    }
  </style>

  <body>
    <div id="animated-type">
      <!-- Hello world! ðŸ‘‹ I&rsquo;m Andrew. I&rsquo;m an engineer at Palantir.
      I&rsquo;m based in Brooklyn. Say
      <a href="mailto:andrewjiang@hey.com">hello</a>! -->
    </div>
    <script>
      const element = document.getElementById("animated-type");
      let start, frames, lastFrame;
      const palantirUrl = document.createElement("a");
      palantirUrl.setAttribute("rel", "noopener noreferrer");
      palantirUrl.setAttribute("href", "https://www.palantir.com/");
      palantirUrl.setAttribute("target", "_blank");
      palantirUrl.appendChild(document.createTextNode("Palantir"));
      const mailtoUrl = document.createElement("a");
      mailtoUrl.setAttribute("href", "mailto:andrewjiang@hey.com");
      mailtoUrl.appendChild(document.createTextNode("hello"));
      const waveEmoji = document.createElement("span");
      waveEmoji.setAttribute("id", "wave-emoji");
      waveEmoji.appendChild(document.createTextNode("ðŸ‘‹"));
      const tokens = [
        "Hello",
        " world",
        "! ",
        waveEmoji,
        " I",
        "'m",
        " Andrew",
        ".",
        " I",
        "'m",
        " an",
        " engineer",
        " at ",
        palantirUrl,
        ".",
        " I",
        "'m",
        " based",
        " in",
        " Brooklyn",
        ".",
        " Say ",
        mailtoUrl,
        "!",
      ];

      function step(ts) {
        if (start == null) {
          start = ts;
        }

        const elapsed = ts - start;

        const frame = Math.floor(elapsed / 50);

        if (frame !== lastFrame) {
          element.append(
            typeof tokens[frame] === "string"
              ? document.createTextNode(tokens[frame])
              : tokens[frame]
          );
        }
        lastFrame = frame;

        if (frame < tokens.length - 1) {
          window.requestAnimationFrame(step);
        }
      }

      window.requestAnimationFrame(step);

      waveEmoji.addEventListener("mouseover", function (e) {
        waveEmoji.classList.add("wave");
      });

      waveEmoji.addEventListener("mouseout", function (e) {
        waveEmoji.classList.remove("wave");
      });
    </script>
  </body>
</html>
